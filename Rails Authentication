
https://nycda.com/blog/basic-user-authentication-model-in-rails-4/



RAILS AUTHENTICATION
https://www.codecademy.com/learn/rails-auth


Gemfile - gem 'bcrypt', '~> 3.1.7'
bundle install


MODEL
app/models/user.rb - class User < ActiveRecord::Base 
                      has_secure_password 
                     end
rails g migration create_users
db/migrate/201etc -       t.string :first_name
                          t.string :last_name
                          t.string :email
                          t.string :password_digest       
rake db:migrate


SIGNUP
routes.rb - get 'signup'  => 'users#new' 
            resources :users

app/views/users/new.html.erb - form_for
    <%= form_for(@user) do |f| %>
      <%= f.text_field :first_name, :placeholder => "First name" %>
      <%= f.text_field :last_name, :placeholder => "Last name" %>
      <%= f.email_field :email, :placeholder => "Email" %>
      <%= f.password_field :password, :placeholder => "Password" %>
      <%= f.submit "Create an account", class: "btn-submit btn" %>
    <% end %>
    
app/users_controller.rb  - 
class UsersController < ApplicationController
  def new
    @user = User.new
  end
  def create 
    @user = User.new(user_params) 
    if @user.save 
      session[:user_id] = @user.id 
      redirect_to '/' 
    else 
      redirect_to '/signup' 
    end 
  end
  private
  def user_params
    params.require(:user).permit(:first_name, :last_name, :email, :password)
  end
end

rails console
User.all        - double check creating successfully
exit
localhost:3000/signup for test


LOGIN

